<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Termin buchen ‚Äì Hundecoiffeur Pepita</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>

<header class="site-header">
  <div class="container header-inner">
    <a href="index.html" class="brand">
      <span class="brand-text">Hundecoiffeur&nbsp;Pepita</span>
      <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

    </a>
    <a href="index.html" class="center-logo">
      <div class="logo-wrapper">
        <img src="Pictures/logo-no-backgorund.png" alt="Logo Hunde Coiffeur Pepita">
      </div>
    </a>

    <nav class="nav">
      <a href="index.html#dienstleistungen">Dienstleistungen</a>
      <a href="sizes.html">Gr√∂sse √§ndern</a>
      <a href="index.html#kontakt">Kontakt</a>
    </nav>
    <button class="burger" aria-label="Men√º √∂ffnen" onclick="document.body.classList.toggle('nav-open')">‚ò∞</button>
  </div>
</header>

<main class="section">
  <div class="container">
    <div class="stepper">
      <a class="step" href="index.html">1 Leistungen</a>
      <a class="step" href="sizes.html">2 Gr√∂sse w√§hlen</a>
      <span class="step active">3 Termin buchen</span>
    </div>

    <h1>Termin buchen</h1>
    <p class="section-intro">
      Service, Gr√∂sse und Preis wurden √ºbernommen. <strong>Zahlungen nur vor Ort an der Kasse.</strong>
    </p>

    <div id="summary" class="card" style="margin-bottom:16px">
      <strong id="sumService">Service: ‚Äì</strong><br>
      <span id="sumSize">Gr√∂sse: ‚Äì</span><br>
      <span id="sumPrice">Preis: ‚Äì CHF</span>
    </div>

    <form id="booking-form" class="form" 
      action="https://formsubmit.co/leon.neuhaus@gmx.net"
      method="POST">

      <input type="hidden" name="_subject" value="üêæ Neue Termin-Anfrage ‚Äì Hundecoiffeur Pepita">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_template" value="table">
      <input type="hidden" name="_next" value="https://pepita-hundecoiffeur.ch/danke.html">
      <input type="hidden" name="_format" value="html">

      <div class="grid form-grid">
        <label>Ihr Name
          <input required type="text" name="name" placeholder="Vor- und Nachname">
        </label>
        <label>E-Mail
          <input required type="email" name="email" placeholder="name@example.com">
        </label>
        <label>Telefon 
          <input required type="tel" name="phone" placeholder="+41 ‚Ä¶">
        </label>
        <label>Tier / Rasse
          <input required type="text" name="pet" placeholder="z. B. Pomeranian">
        </label>
        <label>Service
          <input id="service" name="service" readonly>
        </label>
        <label>Gr√∂sse
          <input id="size" name="size" readonly>
        </label>
        <label>Preis (Richtwert)
          <input id="price" name="price" readonly>
        </label>
        <label>Wunschtermin
          <input type="datetime-local" id="dateInput" name="date" required>
        </label>
      </div>

      <label>Nachricht (optional)
        <textarea name="message" rows="5" placeholder="Besondere Hinweise (Fellzustand, Allergien, etc.)"></textarea>
      </label>

      <div class="form-actions">
        <button class="btn primary" type="submit">Anfrage senden</button>
      </div>

      <p class="form-note">
        Mit dem Absenden stimmen Sie unserer 
        <a href="#" onclick="alert('Mit dem Absenden des Formulars erkl√§ren Sie sich damit einverstanden, dass die angegebenen Daten (Name, E-Mail, Telefonnummer, Tier, Termin) zur Terminvereinbarung gespeichert und verarbeitet werden. Die Daten werden nicht an Dritte weitergegeben. Sie k√∂nnen Ihre Einwilligung jederzeit per E-Mail an coiffeur.pepita@gmail.com widerrufen.'); return false;">
          Datenschutzerkl√§rung
        </a> zu.
      </p>
    </form>
  </div>
</main>

<script>
  const p = new URLSearchParams(location.search);
  const service = decodeURIComponent(p.get('service') || 'Ganzer-Service');
  const size = p.get('size') || 'Klein';
  const price = p.get('price') || '‚Äì';
  const unit = decodeURIComponent(p.get('unit') || '/ Std.');

  document.getElementById('service').value = service;
  document.getElementById('size').value = size;
  document.getElementById('price').value = `${price} CHF ${unit}`;
  document.getElementById('sumService').textContent = 'Service: ' + service;
  document.getElementById('sumSize').textContent = 'Gr√∂sse: ' + size;
  document.getElementById('sumPrice').textContent = `Preis: ${price} CHF ${unit}`;


  const dateInput = document.getElementById('dateInput');
  dateInput.addEventListener('click', () => dateInput.showPicker());

  dateInput.addEventListener('input', () => {
    const val = dateInput.value;
    if (!val) return;

    const time = val.split("T")[1];
    if (!time) return;

    const [hours, minutes] = time.split(":").map(Number);
    if (hours < 9 || (hours === 16 && minutes > 0) || hours > 16) {
      alert("Bitte eine Uhrzeit zwischen 09:00 und 16:00 Uhr w√§hlen.");
      dateInput.value = "";
    }
  });

  const phoneInput = document.querySelector('input[name="phone"]');

  phoneInput.style.transition = 'color 0.25s ease';

  function checkPhoneColor() {
    const val = phoneInput.value.trim();
    const cleaned = val.replace(/\s+/g, '');
    const isValid = /^(\+41|0)\d{8,9}$/.test(cleaned);
    phoneInput.style.color = isValid ? '#007bff' : '#000000';
  }

  phoneInput.addEventListener('input', checkPhoneColor);
  window.addEventListener('load', checkPhoneColor);
  setTimeout(checkPhoneColor, 500); 
</script>





</body>
</html>
